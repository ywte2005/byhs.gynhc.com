<template>
	<view class="flex flex-col h-full bg-[#f5f5f5]">
		<!-- é¡¶éƒ¨å¯¼èˆª -->
		<view class="flex items-center justify-between px-4 py-3 bg-white">
			<view class="flex items-center" @click="goBack">
				<text class="text-6">â†</text>
				<text class="text-4 ml-2">è®¾ç½®</text>
			</view>
		</view>

		<!-- å†…å®¹åŒºåŸŸ -->
		<scroll-view class="flex-1" scroll-y>
			<view class="px-4 py-4">
				<!-- é€šç”¨è®¾ç½® -->
				<view class="bg-white rounded-2 p-4 mb-3">
					<view 
						@click="goToGeneral"
						class="flex items-center justify-between py-3 border-b border-[#e5e5e5]"
					>
						<view class="flex items-center flex-1">
							<text class="text-5 mr-3">âš™ï¸</text>
							<text class="text-4 text-[#1f2329]">é€šç”¨è®¾ç½®</text>
						</view>
						<text class="text-4 text-[#999]">â†’</text>
					</view>

					<view 
						@click="goToNotice"
						class="flex items-center justify-between py-3"
					>
						<view class="flex items-center flex-1">
							<text class="text-5 mr-3">ğŸ””</text>
							<text class="text-4 text-[#1f2329]">é€šçŸ¥è®¾ç½®</text>
						</view>
						<text class="text-4 text-[#999]">â†’</text>
					</view>
				</view>

				<!-- å…³äº -->
				<view class="bg-white rounded-2 p-4 mb-3">
					<view 
						@click="goToAbout"
						class="flex items-center justify-between py-3 border-b border-[#e5e5e5]"
					>
						<view class="flex items-center flex-1">
							<text class="text-5 mr-3">â„¹ï¸</text>
							<text class="text-4 text-[#1f2329]">å…³äºæˆ‘ä»¬</text>
						</view>
						<text class="text-4 text-[#999]">â†’</text>
					</view>

					<view 
						@click="contactUs"
						class="flex items-center justify-between py-3"
					>
						<view class="flex items-center flex-1">
							<text class="text-5 mr-3">ğŸ“</text>
							<text class="text-4 text-[#1f2329]">è”ç³»æˆ‘ä»¬</text>
						</view>
						<text class="text-4 text-[#999]">â†’</text>
					</view>
				</view>

				<!-- é€€å‡ºç™»å½• -->
				<view class="bg-white rounded-2 p-4">
					<view 
						@click="logout"
						class="flex items-center justify-center py-3"
					>
						<text class="text-4 text-[#ff3b30] font-bold">é€€å‡ºç™»å½•</text>
					</view>
				</view>
			</view>
		</scroll-view>
	</view>
</template>

<script setup lang="uts">
// é€šç”¨è®¾ç½®
const goToGeneral = () => {
	uni.navigateTo({
		url: '/pages/set/general-simple'
	})
}

// é€šçŸ¥è®¾ç½®
const goToNotice = () => {
	uni.navigateTo({
		url: '/pages/set/notice-simple'
	})
}

// å…³äºæˆ‘ä»¬
const goToAbout = () => {
	uni.navigateTo({
		url: '/pages/set/about-simple'
	})
}

// è”ç³»æˆ‘ä»¬
const contactUs = () => {
	uni.showModal({
		title: 'è”ç³»æˆ‘ä»¬',
		content: 'å®¢æœç”µè¯ï¼š400-123-4567\nå·¥ä½œæ—¶é—´ï¼š9:00-18:00',
		showCancel: false
	})
}

// é€€å‡ºç™»å½•
const logout = () => {
	uni.showModal({
		title: 'æç¤º',
		content: 'ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ',
		success: (res) => {
			if (res.confirm) {
				// æ¸…é™¤ç™»å½•ä¿¡æ¯
				uni.removeStorageSync('token')
				uni.removeStorageSync('userInfo')
				
				// è·³è½¬åˆ°ç™»å½•é¡µ
				uni.reLaunch({
					url: '/pages/user/login'
				})
			}
		}
	})
}
</script>
